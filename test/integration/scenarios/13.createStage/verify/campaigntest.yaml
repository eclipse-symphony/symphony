apiVersion: workflow.symphony/v1
kind: Campaign
metadata:
  name: context1-v-ccontainer-v-stagesuccess
  annotations:
    management.azure.com/resourceId: /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testrg/providers/Microsoft.Edge/contexts/context1/workflows/ccontainer/versions/stagesuccess
spec:
  firstStage: stage1
  rootResource: context1-v-ccontainer
  selfDriving: true
  stages:
    stage1:
      name: stage1
      target: target1
      provider: providers.stage.create
      config:
        wait.count: 12
        wait.interval: 5
      inputs:
        action: create
        object:
          metadata:
            name: ssinstance1
          spec:
            solution: target1-v-scontainer:stagesuccess1
            scope: ssinstance1
        objectName: ssinstance1
        objectType: instance
      stageSelector: stage2
    stage2:
      name: stage2
      target: target2
      provider: providers.stage.create
      config:
        wait.count: 12
        wait.interval: 5
      inputs:
        action: create
        object:
          metadata:
            name: ssinstance2
          spec:
            solution: target2-v-scontainer2:stagesuccess2
            scope: ssinstance2
        objectName: ssinstance2
        objectType: instance
