# Plain TCP for anonymous tests
listener 1883
protocol mqtt
allow_anonymous true

# TLS (server-auth only) for TestGet_TLS
listener 8883
protocol mqtt
cafile /certs/ca.crt
certfile /certs/server.crt
keyfile /certs/server.key
allow_anonymous true

# mTLS (client certs required) for TestGet_mTLS
listener 8884
protocol mqtt
cafile /certs/ca.crt
certfile /certs/server.crt
keyfile /certs/server.key
require_certificate true
use_identity_as_username true
allow_anonymous true